
# Тестовое задание: Python и SQL

В этом репозитории представлены решения нескольких заданий для проверки базовых навыков работы с Python и SQL.

---

## Задание 1: Python + SQL (базовое)

**Описание:**  
Написать скрипт на Python, который подключается к базе данных SQLite и выполняет следующие действия:

1. Создает таблицу `employees` с полями: `id`, `name`, `position`, `salary`.  
2. Добавляет в таблицу 5 тестовых записей.  
3. Выполняет запрос и выводит сотрудников с зарплатой больше 50 000.  
4. Обновляет зарплату сотрудника с именем "Иван" до 60 000.  
5. Удаляет сотрудника с именем "Анна".  

**Что проверяется:**  
- Работа с базой данных через Python (`sqlite3`).  
- Знание основных SQL-запросов: `CREATE`, `INSERT`, `SELECT`, `UPDATE`, `DELETE`.  
- Структурирование кода.  

---

## Задание 2: Python (работа с данными)

**Описание:**  
Написать функцию на Python, которая принимает список словарей с информацией о сотрудниках:


employees = [
    {"name": "Иван", "position": "разработчик", "salary": 55000},
    {"name": "Анна", "position": "аналитик", "salary": 48000},
    {"name": "Петр", "position": "тестировщик", "salary": 52000},
]


Функция должна:

1. Вернуть список имен сотрудников с зарплатой больше 50 000.
2. Вернуть среднюю зарплату всех сотрудников.
3. Отсортировать сотрудников по зарплате в порядке убывания.

**Что проверяется:**

* Работа с коллекциями (списки, словари).
* Навыки фильтрации, сортировки и вычислений.
* Чистота и читаемость кода.

---

## Задание 3: SQL (запросы)

**Описание:**
Дана таблица `orders` с полями:

* `id` (уникальный идентификатор заказа),
* `customer_id` (идентификатор клиента),
* `order_date` (дата заказа),
* `amount` (сумма заказа).

Написать SQL-запросы для:

1. Нахождения общей суммы заказов для каждого клиента.
2. Нахождения клиента с максимальной суммой заказов.
3. Подсчёта количества заказов, сделанных в 2023 году.
4. Нахождения средней суммы заказа для каждого клиента.

**Что проверяется:**

* Использование `GROUP BY`, агрегатных функций и фильтрации.
* Навыки написания сложных SQL-запросов.

---

## Задание 4: Python (мини-проект)

**Описание:**
Написать скрипт на Python, который:

1. Читает CSV-файл с данными о сотрудниках (`name, position, salary`).
2. Записывает данные в базу данных (SQLite или PostgreSQL).
3. Реализует функцию поиска сотрудников по должности (например, все разработчики).
4. Реализует функцию обновления зарплаты сотрудника по имени.

**Что проверяется:**

* Работа с CSV-файлами.
* Интеграция Python и SQL.
* Понимание работы с базами данных.

---

## Задание 5: Алгоритмическое (Python)

**Описание задачи:**
Напишите функцию на Python, которая принимает на вход список чисел и возвращает:

1. Количество уникальных чисел.
2. Второе по величине число в списке.
3. Список чисел, которые делятся на 3 без остатка.

**Пример:**

```python
input_list = [10, 20, 30, 40, 50, 30, 20]
# Результат:
# Уникальные числа: 5
# Второе по величине число: 40
# Числа, делящиеся на 3: [30, 30]
```

**Что проверяем:**

* Умение работать с алгоритмами.
* Понимание базовых структур данных.
* Чистоту и эффективность кода.

---

## Задание 6: Теоретическое (SQL)

**Вопросы:**

1. Что такое индексы в SQL? Зачем они нужны?
2. В чем разница между `INNER JOIN` и `LEFT JOIN`?
3. Что такое транзакция? Какие свойства транзакций вы знаете?

**Что проверяем:**

* Понимание теоретических основ SQL.
* Умение объяснять концепции.

---

## Задание 7: Практическое (Python + SQL)

**Описание задачи:**
Напишите скрипт на Python, который:

1. Подключается к базе данных (например, PostgreSQL).
2. Создает таблицу `products` с полями: `id`, `name`, `price`, `quantity`.
3. Добавляет 10 тестовых продуктов.
4. Реализует функцию, которая возвращает список продуктов, у которых количество меньше 10.
5. Реализует функцию, которая обновляет цену продукта по имени.

**Что проверяем:**

* Умение работать с внешними базами данных (PostgreSQL).
* Понимание CRUD-операций.
* Умение писать модульный код.

---

### Настройка базы данных и логирования

Во всех задачах, где используется база данных, в функции `main` предусмотрена настройка конфигурации базы данных и логирования.  

- Для подключения к базе данных необходимо указать параметры конфигурации (тип базы, имя файла или DSN).  
- Логирование по умолчанию установлено на уровень `INFO`.  
- При необходимости можно включить детальный вывод для отладки, переключив уровень логирования на `DEBUG`.
